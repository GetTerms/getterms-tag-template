___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "GetTerms Consent Management",
	"categories": ["TAG_MANAGEMENT", "UTILITY"],
  "brand": {
    "id": "getterms",
    "displayName": "GetTerms",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Enables Consent Mode integration with the GetTerms Cookie Consent Widget",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "GROUP",
    "name": "defaultSettings",
    "displayName": "Default Consent Preferences",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "SELECT",
        "name": "ad_storage",
        "displayName": "ad_storage",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Advertising\" checkbox in GetTerms Cookie Widget"
      },
      {
        "type": "SELECT",
        "name": "ad_user_data",
        "displayName": "ad_user_data",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Advertising\" checkbox in GetTerms Cookie Widget"
      },
      {
        "type": "SELECT",
        "name": "ad_personalization",
        "displayName": "ad_personalization",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Advertising\" checkbox in GetTerms Cookie Widget"
      },
      {
        "type": "SELECT",
        "name": "analytics_storage",
        "displayName": "analytics_storage",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Performance\" checkbox in GetTerms Cookie Widget"
      },
      {
        "type": "SELECT",
        "name": "functionality_storage",
        "displayName": "functionality_storage",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Functional\" checkbox in GetTerms Cookie Widget"
      },
      {
        "type": "SELECT",
        "name": "personalization_storage",
        "displayName": "personalization_storage",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Functional\" checkbox in GetTerms Cookie Widget"
      },
      {
        "type": "SELECT",
        "name": "security_storage",
        "displayName": "security_storage",
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "help": "Maps to \"Essential\" checkbox in GetTerms Cookie Widget"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// The first two lines are optional, use if you want to enable logging
const log = require('logToConsole');
const JSON = require('JSON');
const setDefaultConsentState = require('setDefaultConsentState');
const updateConsentState = require('updateConsentState');
const callInWindow = require('callInWindow');
const gtagSet = require('gtagSet');
const localStorage = require('localStorage');

const STORAGE_KEY = 'getterms_cookie_consent';

function localStorageGetItem(key) {
  const cache = localStorage.getItem(STORAGE_KEY);
  if (!cache) {
    return null;
  }

  const parsedCache = JSON.parse(cache);
  const item = parsedCache[key];
  if (!item) {
    return null;
  }

  return item;
}

/*
 *   Called when consent changes. Assumes that consent object contains keys which
 *   directly correspond to Google consent types.
 */
const onUserConsent = (prefs) => {

  const consentModeStates = {
    // This code is mirrored in our GetTerms cookie widget codebase, any updates here **must** be reflected there too
    ad_storage: prefs["Marketing"] ? "granted" : "denied",
    ad_user_data: prefs["Marketing"] ? "granted" : "denied",
    ad_personalization: prefs["Marketing"] ? "granted" : "denied",
    analytics_storage: prefs["Analytics"] ? "granted" : "denied",
    functionality_storage: prefs["Functional"] ? "granted" : "denied",
    personalization_storage: prefs["Functional"] ? "granted" : "denied",
    security_storage: prefs["Essential Cookies"] ? "granted" : "denied",
  };
  updateConsentState(consentModeStates);
};
/*
 *   Executes the default command, sets the developer ID, and sets up the consent
 *   update callback
 */
const main = (data) => {
  /*
   * Optional settings using gtagSet
   */

  gtagSet('developer_id.dMjlhZj', true);
  // Set default consent state(s)
  const defaultData = {
    ad_storage: data.ad_storage,
    ad_user_data: data.ad_user_data,
    ad_personalization: data.ad_personalization,
    analytics_storage: data.analytics_storage,
    functionality_storage: data.functionality_storage,
    personalization_storage: data.personalization_storage,
    security_storage: data.security_storage,
  };
  // wait_for_update (ms) allows for time to receive visitor choices from the CMP
  //defaultData.wait_for_update = 500;
  setDefaultConsentState(defaultData);
  log('GTM: defaultData: ', defaultData);

  // Check if localStorage is set and has values that correspond to Google consent
  // types. If it does, run onUserConsent().
  const getTermsCookiePrefs = localStorageGetItem("cookie_preferences");
  log("GTM: getTermsCookiePrefs =", getTermsCookiePrefs);
  if(getTermsCookiePrefs) {
    onUserConsent(getTermsCookiePrefs);
  }

  /**
   *   Add event listener to trigger update when consent changes
   *
   *   References an external method on the window object which accepts a
   *   function as an argument. If you do not have such a method, you will need
   *   to create one before continuing. This method should add the function
   *   that is passed as an argument as a callback for an event emitted when
   *   the user updates their consent. The callback should be called with an
   *   object containing fields that correspond to the five built-in Google
   *   consent types.
   */
  log("GTM: callInWindow('gtCookieWidgetAddGtmCallback', onUserConsent)");
  callInWindow('gtCookieWidgetAddGtmCallback', onUserConsent);
};
main(data);
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gtCookieWidgetAddGtmCallback"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "developer_id.dMjlhZj"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_local_storage",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "getterms_cookie_consent"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 07/02/2024, 10:15:39


